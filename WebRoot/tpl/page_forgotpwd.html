<div class="container w-xl w-auto-xs" ng-init="app.settings.container = false;">
    <a href class="navbar-brand block m-t">{{app.name}}</a>
    <div class="m-b-lg">
        <div class="wrapper text-center">
            <strong>输入你的手机号重置密码</strong>
        </div>
        <form name="reset" ng-init="isCollapsed=true" ng-submit="resetpwd()">
            <div class="list-group list-group-sm">
                <div class="list-group-item">
                    <input type="text" placeholder="输入手机号" ng-pattern="/^1[3|4|5|8][0-9]\d{8}$/" class="form-control no-border" ng-model="mobile" required>
                </div>
            </div>
            <button type="submit" ng-disabled="reset.$invalid" class="btn btn-lg btn-primary btn-block" ng-click="isCollapsed = false">发送</button>
        </form>
        <div collapse="isCollapsed" class="m-t">
            <div class="alert alert-success">
                <p>验证短信正在发送到您的手机，请注意查收 
<!--                   <a ui-sref="access.resetPwd" class="btn btn-sm btn-success">修改密码</a>
 -->                </p>
            </div>
        </div>
        <form name="form" class="form-validation" ng-submit="resetsub()">
            <div class="text-danger wrapper text-center" ng-show="authError">
                {{authError}}
            </div>
            <div class="list-group list-group-sm">
                <div class="list-group-item">
                    <input type="password" placeholder="输入密码" class="form-control no-border" ng-maxlength="14" ng-minlength="6" ng-model="user.password" required>
                </div>
                <div class="list-group-item">
                    <input type="password" class="form-control no-border" name="confirm_password" required ng-model="confirm_password" ui-validate=" '$value==user.password' " ui-validate-watch=" 'user.password' " placeholder="再次输入密码">
                </div>
                <span ng-show='form.confirm_password.$error.validator'>两次密码输入不一致!</span>
                <div class="list-group-item">
                    <input type="text" placeholder="输入注册码" class="form-control no-border" ng-model="user.signupCode" required>
                </div>
            </div>
            <button type="submit" class="btn btn-lg btn-primary btn-block" ng-click="signup()" ng-disabled='form.$invalid'>确认修改</button>
            <div class="line line-dashed"></div>
        </form>
    </div>
    <div class="text-center" ng-include="'tpl/blocks/page_footer.html'">
        {% include 'blocks/page_footer.html' %}
    </div>
</div>
